open E0 "uuid": "00000000-0000-0000-0000-000000000000", "listen": [{ "host": "127.0.0.1", "port": 3485 }]
connect E0 S0 localhost:3485
# test: show statement parsing
show
{"msg": "SHOW <name> expected"}
show;
{"msg": "SHOW <name> expected"}
show all junk
{"msg": "unexpected token at the end of statement"}
show 1234
{"msg": "SHOW <name> expected"}
# test: show users
show users
[{}]
# test: show schemas
show schemas
[{
  "system": {
    "name": "system",
    "system": true,
    "create": false
  },
  "public": {
    "name": "public",
    "system": true,
    "create": true
  }
}]
# test: show tables
show tables
[{}]
# test: show views
show views
[{}]
# test: show wal
show wal
[{
  "active": true,
  "checkpoint": 1,
  "lsn": 1,
  "lsn_min": 1,
  "files": 1,
  "slots": 0,
  "slots_min": -1,
  "writes": 0,
  "writes_bytes": 0,
  "ops": 0
}]
# test: show config
show all
[{
  "version": "1.0.0",
  "uuid": "00000000-0000-0000-0000-000000000000",
  "directory": "_output/E0",
  "timezone": "UTC",
  "timezone_default": "UTC",
  "format": "json-pretty",
  "log_enable": true,
  "log_to_file": true,
  "log_to_stdout": false,
  "log_connections": true,
  "log_options": true,
  "tls_capath": "",
  "tls_ca": "",
  "tls_cert": "",
  "tls_key": "",
  "listen": [{
    "host": "127.0.0.1",
    "port": 3485
  }],
  "limit_send": 3145728,
  "limit_recv": 1048576,
  "limit_write": 0,
  "frontends": 1,
  "backends": 1,
  "wal": true,
  "wal_rotate_wm": 104857600,
  "wal_sync_on_rotate": false,
  "wal_sync_on_write": false,
  "repl": false,
  "repl_primary": "",
  "repl_reconnect_ms": 3000,
  "checkpoint_interval": "5 min",
  "checkpoint_workers": 3,
  "checkpoint": 1,
  "read_only": false,
  "lsn": 1,
  "psn": 0
}]
# test: show all
show all
[{
  "version": "1.0.0",
  "uuid": "00000000-0000-0000-0000-000000000000",
  "directory": "_output/E0",
  "timezone": "UTC",
  "timezone_default": "UTC",
  "format": "json-pretty",
  "log_enable": true,
  "log_to_file": true,
  "log_to_stdout": false,
  "log_connections": true,
  "log_options": true,
  "tls_capath": "",
  "tls_ca": "",
  "tls_cert": "",
  "tls_key": "",
  "listen": [{
    "host": "127.0.0.1",
    "port": 3485
  }],
  "limit_send": 3145728,
  "limit_recv": 1048576,
  "limit_write": 0,
  "frontends": 1,
  "backends": 1,
  "wal": true,
  "wal_rotate_wm": 104857600,
  "wal_sync_on_rotate": false,
  "wal_sync_on_write": false,
  "repl": false,
  "repl_primary": "",
  "repl_reconnect_ms": 3000,
  "checkpoint_interval": "5 min",
  "checkpoint_workers": 3,
  "checkpoint": 1,
  "read_only": false,
  "lsn": 1,
  "psn": 0
}]
select system.config()
[{
  "version": "1.0.0",
  "uuid": "00000000-0000-0000-0000-000000000000",
  "directory": "_output/E0",
  "timezone": "UTC",
  "timezone_default": "UTC",
  "format": "json-pretty",
  "log_enable": true,
  "log_to_file": true,
  "log_to_stdout": false,
  "log_connections": true,
  "log_options": true,
  "tls_capath": "",
  "tls_ca": "",
  "tls_cert": "",
  "tls_key": "",
  "listen": [{
    "host": "127.0.0.1",
    "port": 3485
  }],
  "limit_send": 3145728,
  "limit_recv": 1048576,
  "limit_write": 0,
  "frontends": 1,
  "backends": 1,
  "wal": true,
  "wal_rotate_wm": 104857600,
  "wal_sync_on_rotate": false,
  "wal_sync_on_write": false,
  "repl": false,
  "repl_primary": "",
  "repl_reconnect_ms": 3000,
  "checkpoint_interval": "5 min",
  "checkpoint_workers": 3,
  "checkpoint": 1,
  "read_only": false,
  "lsn": 1,
  "psn": 0
}]
select system.config().directory
["_output/E0"]
select system.config()["directory"]
["_output/E0"]
select system.config(123)
{"msg": "config(): expected 0 arguments, but got 1"}
# test: show name
show log_enable
[true]
show "log_enable"
{"msg": "SHOW <name> expected"}
disconnect S0
close E0
