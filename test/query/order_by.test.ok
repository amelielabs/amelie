open E0 "uuid": "00000000-0000-0000-0000-000000000000", "listen": [{ "host": "127.0.0.1", "port": 3485 }]
connect E0 S0 localhost:3485
# test: order by column
create table test (id int primary key, data int)
insert into test values (1, 1)
insert into test values (2, 3)
insert into test values (3, 2)
explain select * from test order by data
[{
  "bytecode": {
    "coordinator": {
      "00": "send_all            0      0      -     # public.test",
      "01": "recv                0      0      0     ",
      "02": "bool                0      0      0     ",
      "03": "push                0      0      0     ",
      "04": "merge_recv          0      -1     -1    ",
      "05": "cte_set             0      0      0     ",
      "06": "body                0      0      0     ",
      "07": "ret                 0      0      0     "
    },
    "node": {
      "00": "set_ordered         0      2      1     ",
      "01": "int                 1      -      0     # -2147483648",
      "02": "push                1      0      0     ",
      "03": "table_open          0      1      5     # public.test (primary)",
      "04": "jmp                 13     0      0     ",
      "05": "table_readi32       1      0      0     ",
      "06": "push                1      0      0     ",
      "07": "table_readi32       1      0      1     ",
      "08": "push                1      0      0     ",
      "09": "table_readi32       1      0      1     ",
      "10": "push                1      0      0     ",
      "11": "set_add             0      0      0     ",
      "12": "table_next          0      5      0     ",
      "13": "table_close         0      0      0     ",
      "14": "set_sort            0      0      0     ",
      "15": "result              0      0      0     ",
      "16": "ret                 0      0      0     "
    }
  }
}]
select * from test order by data
[[1, 1], [3, 2], [2, 3]]
# test: order by column asc
select * from test order by data asc
[[1, 1], [3, 2], [2, 3]]
# test: order by column desc
select * from test order by data desc
[[2, 3], [3, 2], [1, 1]]
# test: order by target.column
select * from test order by test.data
[[1, 1], [3, 2], [2, 3]]
select * from test order by test
{"msg": "<test.test> column not found"}
# test: order by alias.column
select * from test alias order by alias.data
[[1, 1], [3, 2], [2, 3]]
# test: order by compound
select * from test order by data, id
[[1, 1], [3, 2], [2, 3]]
select * from test order by data desc, id
[[2, 3], [3, 2], [1, 1]]
select * from test order by id, data
[[1, 1], [2, 3], [3, 2]]
select * from test order by id desc, data
[[3, 2], [2, 3], [1, 1]]
drop table test
disconnect S0
close E0
