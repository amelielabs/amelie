open E0 "uuid": "00000000-0000-0000-0000-000000000000", "listen": [{ "host": "127.0.0.1", "port": 3485 }]
connect E0 S0 localhost:3485
create table test (id int primary key, data int)
create index i on test (data)
insert into test values (0, 2)
insert into test values (1, 1)
insert into test values (2, 0)
explain select * from test
"
bytecode [coordinator]
--------
 0            send_all        0      0      0
 1                recv        0      0      0
 2                bool        0      0      0
 3                push        0      0      0
 4          merge_recv        0     -1     -1
 5             cte_set        0      0      0
 6                body        0      0      0
 7                 ret        0      0      0


bytecode [node]
--------
 0                 set        0      0      0
 1             int_min        1      0      0
 2                push        1      0      0
 3         cursor_open        0      0      5      # public.test (primary)
 4                 jmp        8      0      0
 5         cursor_read        1      0      0
 6             set_add        0      1      0
 7         cursor_next        0      5      0
 8        cursor_close        0      0      0
 9              result        0      0      0
10                 ret        0      0      0

"
select * from test
[[0, 2], [1, 1], [2, 0]]
# test: from use index
select * from test use
{"code": 1, "msg": "USE <INDEX> expected"}
select * from test use 1
{"code": 1, "msg": "USE <INDEX> expected"}
select * from test use index
{"code": 1, "msg": "USE INDEX <(> expected"}
select * from test use index 1
{"code": 1, "msg": "USE INDEX <(> expected"}
select * from test use index (
{"code": 1, "msg": "USE INDEX (<index name> expected"}
select * from test use index (123
{"code": 1, "msg": "USE INDEX (<index name> expected"}
explain select * from test use index (i)
"
bytecode [coordinator]
--------
 0            send_all        0      0      0
 1                recv        0      0      0
 2                bool        0      0      0
 3                push        0      0      0
 4          merge_recv        0     -1     -1
 5             cte_set        0      0      0
 6                body        0      0      0
 7                 ret        0      0      0


bytecode [node]
--------
 0                 set        0      0      0
 1             int_min        1      0      0
 2                push        1      0      0
 3             int_min        1      0      0
 4                push        1      0      0
 5         cursor_open        0      0      7      # public.test (i)
 6                 jmp       10      0      0
 7         cursor_read        1      0      0
 8             set_add        0      1      0
 9         cursor_next        0      7      0
10        cursor_close        0      0      0
11              result        0      0      0
12                 ret        0      0      0

"
select * from test use index (i)
[[2, 0], [1, 1], [0, 2]]
drop index i on test
disconnect S0
close E0
