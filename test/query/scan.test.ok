open E0 "uuid": "00000000-0000-0000-0000-000000000000", "listen": [{ "host": "127.0.0.1", "port": 3485 }]
connect E0 S0 localhost:3485
# test: key column
create table test (id int primary key, data int default 1)
insert into test (id) values (1), (2), (3)
explain select * from test where id > 1
"
bytecode [coordinator]
--------
 0            send_all        0      0      0
 1                recv        0      0      0
 2                bool        0      0      0
 3                push        0      0      0
 4          merge_recv        0     -1     -1
 5             cte_set        0      0      0
 6                body        0      0      0
 7                 ret        0      0      0


bytecode [node]
--------
 0                 set        0      0      0
 1                 int        1      1      0
 2                push        1      0      0
 3         cursor_open        0      0      5      # public.test (primary)
 4                 jmp       12      0      0
 5          cursor_idx        1      0      0
 6                 int        2      1      0
 7                  gt        3      1      2
 8                jntr       11      3      0
 9         cursor_read        1      0      0
10             set_add        0      1      0
11         cursor_next        0      5      0
12        cursor_close        0      0      0
13              result        0      0      0
14                 ret        0      0      0

"
select * from test where id > 1
[[2, 1], [3, 1]]
explain select * from test where id >= 1
"
bytecode [coordinator]
--------
 0            send_all        0      0      0
 1                recv        0      0      0
 2                bool        0      0      0
 3                push        0      0      0
 4          merge_recv        0     -1     -1
 5             cte_set        0      0      0
 6                body        0      0      0
 7                 ret        0      0      0


bytecode [node]
--------
 0                 set        0      0      0
 1                 int        1      1      0
 2                push        1      0      0
 3         cursor_open        0      0      5      # public.test (primary)
 4                 jmp       12      0      0
 5          cursor_idx        1      0      0
 6                 int        2      1      0
 7                 gte        3      1      2
 8                jntr       11      3      0
 9         cursor_read        1      0      0
10             set_add        0      1      0
11         cursor_next        0      5      0
12        cursor_close        0      0      0
13              result        0      0      0
14                 ret        0      0      0

"
select * from test where id >= 1
[[1, 1], [2, 1], [3, 1]]
drop table test
# test: key column.path
create table test (obj object, primary key(obj.id int))
insert into test {"id": 1}
insert into test {"id": 2}
insert into test {"id": 3}
explain select * from test where obj.id > 1
"
bytecode [coordinator]
--------
 0            send_all        0      0      0
 1                recv        0      0      0
 2                bool        0      0      0
 3                push        0      0      0
 4          merge_recv        0     -1     -1
 5             cte_set        0      0      0
 6                body        0      0      0
 7                 ret        0      0      0


bytecode [node]
--------
 0                 set        0      0      0
 1                 int        1      1      0
 2                push        1      0      0
 3         cursor_open        0      0      5      # public.test (primary)
 4                 jmp       12      0      0
 5          cursor_idx        1      0      0      # id
 6                 int        2      1      0
 7                  gt        3      1      2
 8                jntr       11      3      0
 9         cursor_read        1      0      0
10             set_add        0      1      0
11         cursor_next        0      5      0
12        cursor_close        0      0      0
13              result        0      0      0
14                 ret        0      0      0

"
select * from test where obj.id > 1
[[{
  "id": 2
}], [{
  "id": 3
}]]
drop table test
# test: key column.path.path
create table test (obj object, primary key(obj.data.id int))
insert into test {"data": {"id": 1}}
insert into test {"data": {"id": 2}}
insert into test {"data": {"id": 3}}
explain select * from test where obj.data.id > 1
"
bytecode [coordinator]
--------
 0            send_all        0      0      0
 1                recv        0      0      0
 2                bool        0      0      0
 3                push        0      0      0
 4          merge_recv        0     -1     -1
 5             cte_set        0      0      0
 6                body        0      0      0
 7                 ret        0      0      0


bytecode [node]
--------
 0                 set        0      0      0
 1                 int        1      1      0
 2                push        1      0      0
 3         cursor_open        0      0      5      # public.test (primary)
 4                 jmp       12      0      0
 5          cursor_idx        1      0      0      # data.id
 6                 int        2      1      0
 7                  gt        3      1      2
 8                jntr       11      3      0
 9         cursor_read        1      0      0
10             set_add        0      1      0
11         cursor_next        0      5      0
12        cursor_close        0      0      0
13              result        0      0      0
14                 ret        0      0      0

"
select * from test where obj.data.id > 1
[[{
  "data": {
    "id": 2
  }
}], [{
  "data": {
    "id": 3
  }
}]]
drop table test
# test: key target.column
create table test (id int primary key, data int default 1)
insert into test (id) values (1), (2), (3)
explain select * from test where test.id > 1
"
bytecode [coordinator]
--------
 0            send_all        0      0      0
 1                recv        0      0      0
 2                bool        0      0      0
 3                push        0      0      0
 4          merge_recv        0     -1     -1
 5             cte_set        0      0      0
 6                body        0      0      0
 7                 ret        0      0      0


bytecode [node]
--------
 0                 set        0      0      0
 1                 int        1      1      0
 2                push        1      0      0
 3         cursor_open        0      0      5      # public.test (primary)
 4                 jmp       12      0      0
 5          cursor_idx        1      0      0
 6                 int        2      1      0
 7                  gt        3      1      2
 8                jntr       11      3      0
 9         cursor_read        1      0      0
10             set_add        0      1      0
11         cursor_next        0      5      0
12        cursor_close        0      0      0
13              result        0      0      0
14                 ret        0      0      0

"
select * from test where test.id > 1
[[2, 1], [3, 1]]
drop table test
# test: key target.column.path
create table test (obj object, primary key(obj.id int))
insert into test {"id": 1}
insert into test {"id": 2}
insert into test {"id": 3}
explain select * from test where test.obj.id > 1
"
bytecode [coordinator]
--------
 0            send_all        0      0      0
 1                recv        0      0      0
 2                bool        0      0      0
 3                push        0      0      0
 4          merge_recv        0     -1     -1
 5             cte_set        0      0      0
 6                body        0      0      0
 7                 ret        0      0      0


bytecode [node]
--------
 0                 set        0      0      0
 1                 int        1      1      0
 2                push        1      0      0
 3         cursor_open        0      0      5      # public.test (primary)
 4                 jmp       12      0      0
 5          cursor_idx        1      0      0      # id
 6                 int        2      1      0
 7                  gt        3      1      2
 8                jntr       11      3      0
 9         cursor_read        1      0      0
10             set_add        0      1      0
11         cursor_next        0      5      0
12        cursor_close        0      0      0
13              result        0      0      0
14                 ret        0      0      0

"
select * from test where test.obj.id > 1
[[{
  "id": 2
}], [{
  "id": 3
}]]
drop table test
# test: key target.column.path.path
create table test (obj object, primary key(obj.data.id int))
insert into test {"data": {"id": 1}}
insert into test {"data": {"id": 2}}
insert into test {"data": {"id": 3}}
explain select * from test where test.obj.data.id > 1
"
bytecode [coordinator]
--------
 0            send_all        0      0      0
 1                recv        0      0      0
 2                bool        0      0      0
 3                push        0      0      0
 4          merge_recv        0     -1     -1
 5             cte_set        0      0      0
 6                body        0      0      0
 7                 ret        0      0      0


bytecode [node]
--------
 0                 set        0      0      0
 1                 int        1      1      0
 2                push        1      0      0
 3         cursor_open        0      0      5      # public.test (primary)
 4                 jmp       12      0      0
 5          cursor_idx        1      0      0      # data.id
 6                 int        2      1      0
 7                  gt        3      1      2
 8                jntr       11      3      0
 9         cursor_read        1      0      0
10             set_add        0      1      0
11         cursor_next        0      5      0
12        cursor_close        0      0      0
13              result        0      0      0
14                 ret        0      0      0

"
select * from test where test.obj.data.id > 1
[[{
  "data": {
    "id": 2
  }
}], [{
  "data": {
    "id": 3
  }
}]]
drop table test
# test: key alias.column
create table test (id int primary key, data int default 1)
insert into test (id) values (1), (2), (3)
explain select * from test alias where alias.id > 1
"
bytecode [coordinator]
--------
 0            send_all        0      0      0
 1                recv        0      0      0
 2                bool        0      0      0
 3                push        0      0      0
 4          merge_recv        0     -1     -1
 5             cte_set        0      0      0
 6                body        0      0      0
 7                 ret        0      0      0


bytecode [node]
--------
 0                 set        0      0      0
 1                 int        1      1      0
 2                push        1      0      0
 3         cursor_open        0      0      5      # public.test (primary)
 4                 jmp       12      0      0
 5          cursor_idx        1      0      0
 6                 int        2      1      0
 7                  gt        3      1      2
 8                jntr       11      3      0
 9         cursor_read        1      0      0
10             set_add        0      1      0
11         cursor_next        0      5      0
12        cursor_close        0      0      0
13              result        0      0      0
14                 ret        0      0      0

"
select * from test alias where alias.id > 1
[[2, 1], [3, 1]]
drop table test
# test: key alias.column.path
create table test (obj object, primary key(obj.id int))
insert into test {"id": 1}
insert into test {"id": 2}
insert into test {"id": 3}
explain select * from test alias where alias.obj.id > 1
"
bytecode [coordinator]
--------
 0            send_all        0      0      0
 1                recv        0      0      0
 2                bool        0      0      0
 3                push        0      0      0
 4          merge_recv        0     -1     -1
 5             cte_set        0      0      0
 6                body        0      0      0
 7                 ret        0      0      0


bytecode [node]
--------
 0                 set        0      0      0
 1                 int        1      1      0
 2                push        1      0      0
 3         cursor_open        0      0      5      # public.test (primary)
 4                 jmp       12      0      0
 5          cursor_idx        1      0      0      # id
 6                 int        2      1      0
 7                  gt        3      1      2
 8                jntr       11      3      0
 9         cursor_read        1      0      0
10             set_add        0      1      0
11         cursor_next        0      5      0
12        cursor_close        0      0      0
13              result        0      0      0
14                 ret        0      0      0

"
select * from test alias where alias.obj.id > 1
[[{
  "id": 2
}], [{
  "id": 3
}]]
drop table test
# test: key alias.column.path.path
create table test (obj object, primary key(obj.data.id int))
insert into test {"data": {"id": 1}}
insert into test {"data": {"id": 2}}
insert into test {"data": {"id": 3}}
explain select * from test alias where alias.obj.data.id > 1
"
bytecode [coordinator]
--------
 0            send_all        0      0      0
 1                recv        0      0      0
 2                bool        0      0      0
 3                push        0      0      0
 4          merge_recv        0     -1     -1
 5             cte_set        0      0      0
 6                body        0      0      0
 7                 ret        0      0      0


bytecode [node]
--------
 0                 set        0      0      0
 1                 int        1      1      0
 2                push        1      0      0
 3         cursor_open        0      0      5      # public.test (primary)
 4                 jmp       12      0      0
 5          cursor_idx        1      0      0      # data.id
 6                 int        2      1      0
 7                  gt        3      1      2
 8                jntr       11      3      0
 9         cursor_read        1      0      0
10             set_add        0      1      0
11         cursor_next        0      5      0
12        cursor_close        0      0      0
13              result        0      0      0
14                 ret        0      0      0

"
select * from test alias where alias.obj.data.id > 1
[[{
  "data": {
    "id": 2
  }
}], [{
  "data": {
    "id": 3
  }
}]]
drop table test
# test: key column type mismatch
create table test (id int primary key, data int default 1)
explain select * from test where id > "hello"
"
bytecode [coordinator]
--------
 0            send_all        0      0      0
 1                recv        0      0      0
 2                bool        0      0      0
 3                push        0      0      0
 4          merge_recv        0     -1     -1
 5             cte_set        0      0      0
 6                body        0      0      0
 7                 ret        0      0      0


bytecode [node]
--------
 0                 set        0      0      0
 1             int_min        1      0      0
 2                push        1      0      0
 3         cursor_open        0      0      5      # public.test (primary)
 4                 jmp       12      0      0
 5          cursor_idx        1      0      0
 6              string        2     20      0      # hello
 7                  gt        3      1      2
 8                jntr       11      3      0
 9         cursor_read        1      0      0
10             set_add        0      1      0
11         cursor_next        0      5      0
12        cursor_close        0      0      0
13              result        0      0      0
14                 ret        0      0      0

"
select * from test where id > "hello"
[]
drop table test
# test: key column type mismatch #2
create table test (id string primary key, data int default 1)
explain select * from test where id > 1
"
bytecode [coordinator]
--------
 0            send_all        0      0      0
 1                recv        0      0      0
 2                bool        0      0      0
 3                push        0      0      0
 4          merge_recv        0     -1     -1
 5             cte_set        0      0      0
 6                body        0      0      0
 7                 ret        0      0      0


bytecode [node]
--------
 0                 set        0      0      0
 1          string_min        1      0      0
 2                push        1      0      0
 3         cursor_open        0      0      5      # public.test (primary)
 4                 jmp       12      0      0
 5          cursor_idx        1      0      0
 6                 int        2      1      0
 7                  gt        3      1      2
 8                jntr       11      3      0
 9         cursor_read        1      0      0
10             set_add        0      1      0
11         cursor_next        0      5      0
12        cursor_close        0      0      0
13              result        0      0      0
14                 ret        0      0      0

"
select * from test where id > 1
[]
drop table test
# test: key gt (start condition)
create table test (id int primary key, data int default 1)
insert into test (id) values (1), (2), (3)
explain select * from test where id > 1
"
bytecode [coordinator]
--------
 0            send_all        0      0      0
 1                recv        0      0      0
 2                bool        0      0      0
 3                push        0      0      0
 4          merge_recv        0     -1     -1
 5             cte_set        0      0      0
 6                body        0      0      0
 7                 ret        0      0      0


bytecode [node]
--------
 0                 set        0      0      0
 1                 int        1      1      0
 2                push        1      0      0
 3         cursor_open        0      0      5      # public.test (primary)
 4                 jmp       12      0      0
 5          cursor_idx        1      0      0
 6                 int        2      1      0
 7                  gt        3      1      2
 8                jntr       11      3      0
 9         cursor_read        1      0      0
10             set_add        0      1      0
11         cursor_next        0      5      0
12        cursor_close        0      0      0
13              result        0      0      0
14                 ret        0      0      0

"
select * from test where id > 1
[[2, 1], [3, 1]]
# test: key gt and gt (same key)
explain select * from test where id > 1 and id > 1
"
bytecode [coordinator]
--------
 0            send_all        0      0      0
 1                recv        0      0      0
 2                bool        0      0      0
 3                push        0      0      0
 4          merge_recv        0     -1     -1
 5             cte_set        0      0      0
 6                body        0      0      0
 7                 ret        0      0      0


bytecode [node]
--------
 0                 set        0      0      0
 1                 int        1      1      0
 2                push        1      0      0
 3         cursor_open        0      0      5      # public.test (primary)
 4                 jmp       21      0      0
 5          cursor_idx        2      0      0
 6                 int        3      1      0
 7                  gt        4      2      3
 8                jntr       13      4      0
 9          cursor_idx        2      0      0
10                 int        3      1      0
11                  gt        5      2      3
12                 jtr       15      5      0
13                bool        1      0      0
14                 jmp       16      0      0
15                bool        1      1      0
16                 nop        0      0      0
17                jntr       20      1      0
18         cursor_read        1      0      0
19             set_add        0      1      0
20         cursor_next        0      5      0
21        cursor_close        0      0      0
22              result        0      0      0
23                 ret        0      0      0

"
select * from test where id > 1 and id > 1
[[2, 1], [3, 1]]
# test: key gt and gt (less)
explain select * from test where id > 2 and id > 1
"
bytecode [coordinator]
--------
 0            send_all        0      0      0
 1                recv        0      0      0
 2                bool        0      0      0
 3                push        0      0      0
 4          merge_recv        0     -1     -1
 5             cte_set        0      0      0
 6                body        0      0      0
 7                 ret        0      0      0


bytecode [node]
--------
 0                 set        0      0      0
 1                 int        1      2      0
 2                push        1      0      0
 3         cursor_open        0      0      5      # public.test (primary)
 4                 jmp       21      0      0
 5          cursor_idx        2      0      0
 6                 int        3      2      0
 7                  gt        4      2      3
 8                jntr       13      4      0
 9          cursor_idx        2      0      0
10                 int        3      1      0
11                  gt        5      2      3
12                 jtr       15      5      0
13                bool        1      0      0
14                 jmp       16      0      0
15                bool        1      1      0
16                 nop        0      0      0
17                jntr       20      1      0
18         cursor_read        1      0      0
19             set_add        0      1      0
20         cursor_next        0      5      0
21        cursor_close        0      0      0
22              result        0      0      0
23                 ret        0      0      0

"
select * from test where id > 2 and id > 1
[[3, 1]]
# test: key gt and gt (greater)
explain select * from test where id > 1 and id > 2
"
bytecode [coordinator]
--------
 0            send_all        0      0      0
 1                recv        0      0      0
 2                bool        0      0      0
 3                push        0      0      0
 4          merge_recv        0     -1     -1
 5             cte_set        0      0      0
 6                body        0      0      0
 7                 ret        0      0      0


bytecode [node]
--------
 0                 set        0      0      0
 1                 int        1      2      0
 2                push        1      0      0
 3         cursor_open        0      0      5      # public.test (primary)
 4                 jmp       21      0      0
 5          cursor_idx        2      0      0
 6                 int        3      1      0
 7                  gt        4      2      3
 8                jntr       13      4      0
 9          cursor_idx        2      0      0
10                 int        3      2      0
11                  gt        5      2      3
12                 jtr       15      5      0
13                bool        1      0      0
14                 jmp       16      0      0
15                bool        1      1      0
16                 nop        0      0      0
17                jntr       20      1      0
18         cursor_read        1      0      0
19             set_add        0      1      0
20         cursor_next        0      5      0
21        cursor_close        0      0      0
22              result        0      0      0
23                 ret        0      0      0

"
select * from test where id > 1 and id > 2
[[3, 1]]
# test: key gt and eq (scan to point lookup)
explain select * from test where id > 1 and id = 2
"
bytecode [coordinator]
--------
 0            send_all        0      0      0
 1                recv        0      0      0
 2                bool        0      0      0
 3                push        0      0      0
 4          merge_recv        0     -1     -1
 5             cte_set        0      0      0
 6                body        0      0      0
 7                 ret        0      0      0


bytecode [node]
--------
 0                 set        0      0      0
 1                 int        1      2      0
 2                push        1      0      0
 3         cursor_open        0      0      5      # public.test (primary)
 4                 jmp       21      0      0
 5          cursor_idx        2      0      0
 6                 int        3      1      0
 7                  gt        4      2      3
 8                jntr       13      4      0
 9          cursor_idx        2      0      0
10                 int        3      2      0
11                 equ        5      2      3
12                 jtr       15      5      0
13                bool        1      0      0
14                 jmp       16      0      0
15                bool        1      1      0
16                 nop        0      0      0
17                jntr        4      1      0
18         cursor_read        1      0      0
19             set_add        0      1      0
20         cursor_next        0      5      0
21        cursor_close        0      0      0
22              result        0      0      0
23                 ret        0      0      0

"
select * from test where id > 1 and id = 2
[[2, 1]]
# test: key lt (stop condition)
explain select * from test where id < 1
"
bytecode [coordinator]
--------
 0            send_all        0      0      0
 1                recv        0      0      0
 2                bool        0      0      0
 3                push        0      0      0
 4          merge_recv        0     -1     -1
 5             cte_set        0      0      0
 6                body        0      0      0
 7                 ret        0      0      0


bytecode [node]
--------
 0                 set        0      0      0
 1             int_min        1      0      0
 2                push        1      0      0
 3         cursor_open        0      0      5      # public.test (primary)
 4                 jmp       16      0      0
 5          cursor_idx        1      0      0
 6                 int        2      1      0
 7                  lt        3      1      2
 8                jntr        4      3      0
 9          cursor_idx        1      0      0
10                 int        2      1      0
11                  lt        3      1      2
12                jntr       15      3      0
13         cursor_read        1      0      0
14             set_add        0      1      0
15         cursor_next        0      5      0
16        cursor_close        0      0      0
17              result        0      0      0
18                 ret        0      0      0

"
select * from test where id < 1
[]
explain select * from test where id <= 2
"
bytecode [coordinator]
--------
 0            send_all        0      0      0
 1                recv        0      0      0
 2                bool        0      0      0
 3                push        0      0      0
 4          merge_recv        0     -1     -1
 5             cte_set        0      0      0
 6                body        0      0      0
 7                 ret        0      0      0


bytecode [node]
--------
 0                 set        0      0      0
 1             int_min        1      0      0
 2                push        1      0      0
 3         cursor_open        0      0      5      # public.test (primary)
 4                 jmp       16      0      0
 5          cursor_idx        1      0      0
 6                 int        2      2      0
 7                 lte        3      1      2
 8                jntr        4      3      0
 9          cursor_idx        1      0      0
10                 int        2      2      0
11                 lte        3      1      2
12                jntr       15      3      0
13         cursor_read        1      0      0
14             set_add        0      1      0
15         cursor_next        0      5      0
16        cursor_close        0      0      0
17              result        0      0      0
18                 ret        0      0      0

"
select * from test where id <= 2
[[1, 1], [2, 1]]
# test: key lt and lt (same)
explain select * from test where id < 1 and id < 1
"
bytecode [coordinator]
--------
 0            send_all        0      0      0
 1                recv        0      0      0
 2                bool        0      0      0
 3                push        0      0      0
 4          merge_recv        0     -1     -1
 5             cte_set        0      0      0
 6                body        0      0      0
 7                 ret        0      0      0


bytecode [node]
--------
 0                 set        0      0      0
 1             int_min        1      0      0
 2                push        1      0      0
 3         cursor_open        0      0      5      # public.test (primary)
 4                 jmp       25      0      0
 5          cursor_idx        1      0      0
 6                 int        2      1      0
 7                  lt        3      1      2
 8                jntr        4      3      0
 9          cursor_idx        2      0      0
10                 int        3      1      0
11                  lt        4      2      3
12                jntr       17      4      0
13          cursor_idx        2      0      0
14                 int        3      1      0
15                  lt        5      2      3
16                 jtr       19      5      0
17                bool        1      0      0
18                 jmp       20      0      0
19                bool        1      1      0
20                 nop        0      0      0
21                jntr       24      1      0
22         cursor_read        1      0      0
23             set_add        0      1      0
24         cursor_next        0      5      0
25        cursor_close        0      0      0
26              result        0      0      0
27                 ret        0      0      0

"
select * from test where id < 1 and id < 1
[]
# test: key lt and lt (less)
explain select * from test where id < 2 and id < 1
"
bytecode [coordinator]
--------
 0            send_all        0      0      0
 1                recv        0      0      0
 2                bool        0      0      0
 3                push        0      0      0
 4          merge_recv        0     -1     -1
 5             cte_set        0      0      0
 6                body        0      0      0
 7                 ret        0      0      0


bytecode [node]
--------
 0                 set        0      0      0
 1             int_min        1      0      0
 2                push        1      0      0
 3         cursor_open        0      0      5      # public.test (primary)
 4                 jmp       25      0      0
 5          cursor_idx        1      0      0
 6                 int        2      1      0
 7                  lt        3      1      2
 8                jntr        4      3      0
 9          cursor_idx        2      0      0
10                 int        3      2      0
11                  lt        4      2      3
12                jntr       17      4      0
13          cursor_idx        2      0      0
14                 int        3      1      0
15                  lt        5      2      3
16                 jtr       19      5      0
17                bool        1      0      0
18                 jmp       20      0      0
19                bool        1      1      0
20                 nop        0      0      0
21                jntr       24      1      0
22         cursor_read        1      0      0
23             set_add        0      1      0
24         cursor_next        0      5      0
25        cursor_close        0      0      0
26              result        0      0      0
27                 ret        0      0      0

"
select * from test where id < 2 and id < 1
[]
# test: key lt and lt (greater)
explain select * from test where id < 1 and id < 2
"
bytecode [coordinator]
--------
 0            send_all        0      0      0
 1                recv        0      0      0
 2                bool        0      0      0
 3                push        0      0      0
 4          merge_recv        0     -1     -1
 5             cte_set        0      0      0
 6                body        0      0      0
 7                 ret        0      0      0


bytecode [node]
--------
 0                 set        0      0      0
 1             int_min        1      0      0
 2                push        1      0      0
 3         cursor_open        0      0      5      # public.test (primary)
 4                 jmp       25      0      0
 5          cursor_idx        1      0      0
 6                 int        2      1      0
 7                  lt        3      1      2
 8                jntr        4      3      0
 9          cursor_idx        2      0      0
10                 int        3      1      0
11                  lt        4      2      3
12                jntr       17      4      0
13          cursor_idx        2      0      0
14                 int        3      2      0
15                  lt        5      2      3
16                 jtr       19      5      0
17                bool        1      0      0
18                 jmp       20      0      0
19                bool        1      1      0
20                 nop        0      0      0
21                jntr       24      1      0
22         cursor_read        1      0      0
23             set_add        0      1      0
24         cursor_next        0      5      0
25        cursor_close        0      0      0
26              result        0      0      0
27                 ret        0      0      0

"
select * from test where id < 1 and id < 2
[]
# test: key lt and eq (scan to point lookup)
explain select * from test where id < 1 and id = 2
"
bytecode [coordinator]
--------
 0            send_all        0      0      0
 1                recv        0      0      0
 2                bool        0      0      0
 3                push        0      0      0
 4          merge_recv        0     -1     -1
 5             cte_set        0      0      0
 6                body        0      0      0
 7                 ret        0      0      0


bytecode [node]
--------
 0                 set        0      0      0
 1                 int        1      2      0
 2                push        1      0      0
 3         cursor_open        0      0      5      # public.test (primary)
 4                 jmp       25      0      0
 5          cursor_idx        1      0      0
 6                 int        2      1      0
 7                  lt        3      1      2
 8                jntr        4      3      0
 9          cursor_idx        2      0      0
10                 int        3      1      0
11                  lt        4      2      3
12                jntr       17      4      0
13          cursor_idx        2      0      0
14                 int        3      2      0
15                 equ        5      2      3
16                 jtr       19      5      0
17                bool        1      0      0
18                 jmp       20      0      0
19                bool        1      1      0
20                 nop        0      0      0
21                jntr        4      1      0
22         cursor_read        1      0      0
23             set_add        0      1      0
24         cursor_next        0      5      0
25        cursor_close        0      0      0
26              result        0      0      0
27                 ret        0      0      0

"
select * from test where id < 1 and id = 2
[]
# test: key gt and lt
explain select * from test where id > 1 and id < 1
"
bytecode [coordinator]
--------
 0            send_all        0      0      0
 1                recv        0      0      0
 2                bool        0      0      0
 3                push        0      0      0
 4          merge_recv        0     -1     -1
 5             cte_set        0      0      0
 6                body        0      0      0
 7                 ret        0      0      0


bytecode [node]
--------
 0                 set        0      0      0
 1                 int        1      1      0
 2                push        1      0      0
 3         cursor_open        0      0      5      # public.test (primary)
 4                 jmp       25      0      0
 5          cursor_idx        1      0      0
 6                 int        2      1      0
 7                  lt        3      1      2
 8                jntr        4      3      0
 9          cursor_idx        2      0      0
10                 int        3      1      0
11                  gt        4      2      3
12                jntr       17      4      0
13          cursor_idx        2      0      0
14                 int        3      1      0
15                  lt        5      2      3
16                 jtr       19      5      0
17                bool        1      0      0
18                 jmp       20      0      0
19                bool        1      1      0
20                 nop        0      0      0
21                jntr       24      1      0
22         cursor_read        1      0      0
23             set_add        0      1      0
24         cursor_next        0      5      0
25        cursor_close        0      0      0
26              result        0      0      0
27                 ret        0      0      0

"
select * from test where id > 1 and id < 1
[]
explain select * from test where id >= 1 and id <= 2
"
bytecode [coordinator]
--------
 0            send_all        0      0      0
 1                recv        0      0      0
 2                bool        0      0      0
 3                push        0      0      0
 4          merge_recv        0     -1     -1
 5             cte_set        0      0      0
 6                body        0      0      0
 7                 ret        0      0      0


bytecode [node]
--------
 0                 set        0      0      0
 1                 int        1      1      0
 2                push        1      0      0
 3         cursor_open        0      0      5      # public.test (primary)
 4                 jmp       25      0      0
 5          cursor_idx        1      0      0
 6                 int        2      2      0
 7                 lte        3      1      2
 8                jntr        4      3      0
 9          cursor_idx        2      0      0
10                 int        3      1      0
11                 gte        4      2      3
12                jntr       17      4      0
13          cursor_idx        2      0      0
14                 int        3      2      0
15                 lte        5      2      3
16                 jtr       19      5      0
17                bool        1      0      0
18                 jmp       20      0      0
19                bool        1      1      0
20                 nop        0      0      0
21                jntr       24      1      0
22         cursor_read        1      0      0
23             set_add        0      1      0
24         cursor_next        0      5      0
25        cursor_close        0      0      0
26              result        0      0      0
27                 ret        0      0      0

"
select * from test where id >= 1 and id <= 2
[[1, 1], [2, 1]]
# test: key gt and lt and eq
explain select * from test where id > 1 and id < 1 and id = 1
"
bytecode [coordinator]
--------
 0            send_all        0      0      0
 1                recv        0      0      0
 2                bool        0      0      0
 3                push        0      0      0
 4          merge_recv        0     -1     -1
 5             cte_set        0      0      0
 6                body        0      0      0
 7                 ret        0      0      0


bytecode [node]
--------
 0                 set        0      0      0
 1                 int        1      1      0
 2                push        1      0      0
 3         cursor_open        0      0      5      # public.test (primary)
 4                 jmp       34      0      0
 5          cursor_idx        1      0      0
 6                 int        2      1      0
 7                  lt        3      1      2
 8                jntr        4      3      0
 9          cursor_idx        2      0      0
10                 int        3      1      0
11                  gt        4      2      3
12                jntr       26      4      0
13          cursor_idx        3      0      0
14                 int        5      1      0
15                  lt        6      3      5
16                jntr       21      6      0
17          cursor_idx        3      0      0
18                 int        5      1      0
19                 equ        7      3      5
20                 jtr       23      7      0
21                bool        2      0      0
22                 jmp       24      0      0
23                bool        2      1      0
24                 nop        0      0      0
25                 jtr       28      2      0
26                bool        1      0      0
27                 jmp       29      0      0
28                bool        1      1      0
29                 nop        0      0      0
30                jntr        4      1      0
31         cursor_read        1      0      0
32             set_add        0      1      0
33         cursor_next        0      5      0
34        cursor_close        0      0      0
35              result        0      0      0
36                 ret        0      0      0

"
select * from test where id > 1 and id < 1 and id = 1
[]
# test: key gt and lt and eq (non key)
explain select * from test where id > 1 and id < 1 and data = 1
"
bytecode [coordinator]
--------
 0            send_all        0      0      0
 1                recv        0      0      0
 2                bool        0      0      0
 3                push        0      0      0
 4          merge_recv        0     -1     -1
 5             cte_set        0      0      0
 6                body        0      0      0
 7                 ret        0      0      0


bytecode [node]
--------
 0                 set        0      0      0
 1                 int        1      1      0
 2                push        1      0      0
 3         cursor_open        0      0      5      # public.test (primary)
 4                 jmp       34      0      0
 5          cursor_idx        1      0      0
 6                 int        2      1      0
 7                  lt        3      1      2
 8                jntr        4      3      0
 9          cursor_idx        2      0      0
10                 int        3      1      0
11                  gt        4      2      3
12                jntr       26      4      0
13          cursor_idx        3      0      0
14                 int        5      1      0
15                  lt        6      3      5
16                jntr       21      6      0
17          cursor_idx        3      0      1
18                 int        5      1      0
19                 equ        7      3      5
20                 jtr       23      7      0
21                bool        2      0      0
22                 jmp       24      0      0
23                bool        2      1      0
24                 nop        0      0      0
25                 jtr       28      2      0
26                bool        1      0      0
27                 jmp       29      0      0
28                bool        1      1      0
29                 nop        0      0      0
30                jntr       33      1      0
31         cursor_read        1      0      0
32             set_add        0      1      0
33         cursor_next        0      5      0
34        cursor_close        0      0      0
35              result        0      0      0
36                 ret        0      0      0

"
select * from test where id > 1 and id < 1 and data = 1
[]
# test: key eq (start condition)
explain select * from test where id = 1
"
bytecode [coordinator]
--------
 0            send_all        0      0      0
 1                recv        0      0      0
 2                bool        0      0      0
 3                push        0      0      0
 4          merge_recv        0     -1     -1
 5             cte_set        0      0      0
 6                body        0      0      0
 7                 ret        0      0      0


bytecode [node]
--------
 0                 set        0      0      0
 1                 int        1      1      0
 2                push        1      0      0
 3         cursor_open        0      0      5      # public.test (primary)
 4                 jmp       12      0      0
 5          cursor_idx        1      0      0
 6                 int        2      1      0
 7                 equ        3      1      2
 8                jntr        4      3      0
 9         cursor_read        1      0      0
10             set_add        0      1      0
11         cursor_next        0      5      0
12        cursor_close        0      0      0
13              result        0      0      0
14                 ret        0      0      0

"
select * from test where id = 0
[]
select * from test where id = 1
[[1, 1]]
select * from test where id = 2
[[2, 1]]
select * from test where id = 3
[[3, 1]]
select * from test where id = 4
[]
# test: key eq (non key)
explain select * from test where data = 1
"
bytecode [coordinator]
--------
 0            send_all        0      0      0
 1                recv        0      0      0
 2                bool        0      0      0
 3                push        0      0      0
 4          merge_recv        0     -1     -1
 5             cte_set        0      0      0
 6                body        0      0      0
 7                 ret        0      0      0


bytecode [node]
--------
 0                 set        0      0      0
 1             int_min        1      0      0
 2                push        1      0      0
 3         cursor_open        0      0      5      # public.test (primary)
 4                 jmp       12      0      0
 5          cursor_idx        1      0      1
 6                 int        2      1      0
 7                 equ        3      1      2
 8                jntr       11      3      0
 9         cursor_read        1      0      0
10             set_add        0      1      0
11         cursor_next        0      5      0
12        cursor_close        0      0      0
13              result        0      0      0
14                 ret        0      0      0

"
select * from test where data = 1
[[1, 1], [2, 1], [3, 1]]
# test: key eq and gt
explain select * from test where id = 1 and id > 0
"
bytecode [coordinator]
--------
 0            send_all        0      0      0
 1                recv        0      0      0
 2                bool        0      0      0
 3                push        0      0      0
 4          merge_recv        0     -1     -1
 5             cte_set        0      0      0
 6                body        0      0      0
 7                 ret        0      0      0


bytecode [node]
--------
 0                 set        0      0      0
 1                 int        1      1      0
 2                push        1      0      0
 3         cursor_open        0      0      5      # public.test (primary)
 4                 jmp       21      0      0
 5          cursor_idx        2      0      0
 6                 int        3      1      0
 7                 equ        4      2      3
 8                jntr       13      4      0
 9          cursor_idx        2      0      0
10                 int        3      0      0
11                  gt        5      2      3
12                 jtr       15      5      0
13                bool        1      0      0
14                 jmp       16      0      0
15                bool        1      1      0
16                 nop        0      0      0
17                jntr        4      1      0
18         cursor_read        1      0      0
19             set_add        0      1      0
20         cursor_next        0      5      0
21        cursor_close        0      0      0
22              result        0      0      0
23                 ret        0      0      0

"
select * from test where id = 1 and id > 0
[[1, 1]]
# test: key eq and gt and lt
explain select * from test where id = 1 and id > 0 and id < 10
"
bytecode [coordinator]
--------
 0            send_all        0      0      0
 1                recv        0      0      0
 2                bool        0      0      0
 3                push        0      0      0
 4          merge_recv        0     -1     -1
 5             cte_set        0      0      0
 6                body        0      0      0
 7                 ret        0      0      0


bytecode [node]
--------
 0                 set        0      0      0
 1                 int        1      1      0
 2                push        1      0      0
 3         cursor_open        0      0      5      # public.test (primary)
 4                 jmp       34      0      0
 5          cursor_idx        1      0      0
 6                 int        2     10      0
 7                  lt        3      1      2
 8                jntr        4      3      0
 9          cursor_idx        2      0      0
10                 int        3      1      0
11                 equ        4      2      3
12                jntr       26      4      0
13          cursor_idx        3      0      0
14                 int        5      0      0
15                  gt        6      3      5
16                jntr       21      6      0
17          cursor_idx        3      0      0
18                 int        5     10      0
19                  lt        7      3      5
20                 jtr       23      7      0
21                bool        2      0      0
22                 jmp       24      0      0
23                bool        2      1      0
24                 nop        0      0      0
25                 jtr       28      2      0
26                bool        1      0      0
27                 jmp       29      0      0
28                bool        1      1      0
29                 nop        0      0      0
30                jntr        4      1      0
31         cursor_read        1      0      0
32             set_add        0      1      0
33         cursor_next        0      5      0
34        cursor_close        0      0      0
35              result        0      0      0
36                 ret        0      0      0

"
select * from test where id = 1 and id > 0 and id < 10
[[1, 1]]
# test: key eq and eq
explain select * from test where id = 1 and id = 2
"
bytecode [coordinator]
--------
 0            send_all        0      0      0
 1                recv        0      0      0
 2                bool        0      0      0
 3                push        0      0      0
 4          merge_recv        0     -1     -1
 5             cte_set        0      0      0
 6                body        0      0      0
 7                 ret        0      0      0


bytecode [node]
--------
 0                 set        0      0      0
 1                 int        1      1      0
 2                push        1      0      0
 3         cursor_open        0      0      5      # public.test (primary)
 4                 jmp       21      0      0
 5          cursor_idx        2      0      0
 6                 int        3      1      0
 7                 equ        4      2      3
 8                jntr       13      4      0
 9          cursor_idx        2      0      0
10                 int        3      2      0
11                 equ        5      2      3
12                 jtr       15      5      0
13                bool        1      0      0
14                 jmp       16      0      0
15                bool        1      1      0
16                 nop        0      0      0
17                jntr        4      1      0
18         cursor_read        1      0      0
19             set_add        0      1      0
20         cursor_next        0      5      0
21        cursor_close        0      0      0
22              result        0      0      0
23                 ret        0      0      0

"
select * from test where id = 1 and id = 2
[]
drop table test
# test: key compound gt 1 (start condition)
create table test (a int, b int, primary key(a, b))
insert into test values (1, 1), (2, 2), (3, 3)
explain select * from test where a > 1
"
bytecode [coordinator]
--------
 0            send_all        0      0      0
 1                recv        0      0      0
 2                bool        0      0      0
 3                push        0      0      0
 4          merge_recv        0     -1     -1
 5             cte_set        0      0      0
 6                body        0      0      0
 7                 ret        0      0      0


bytecode [node]
--------
 0                 set        0      0      0
 1                 int        1      1      0
 2                push        1      0      0
 3             int_min        1      0      0
 4                push        1      0      0
 5         cursor_open        0      0      7      # public.test (primary)
 6                 jmp       14      0      0
 7          cursor_idx        1      0      0
 8                 int        2      1      0
 9                  gt        3      1      2
10                jntr       13      3      0
11         cursor_read        1      0      0
12             set_add        0      1      0
13         cursor_next        0      7      0
14        cursor_close        0      0      0
15              result        0      0      0
16                 ret        0      0      0

"
select * from test where a > 1
[[2, 2], [3, 3]]
# test: key compound gt full (start condition)
explain select * from test where a > 1 and b > 1
"
bytecode [coordinator]
--------
 0            send_all        0      0      0
 1                recv        0      0      0
 2                bool        0      0      0
 3                push        0      0      0
 4          merge_recv        0     -1     -1
 5             cte_set        0      0      0
 6                body        0      0      0
 7                 ret        0      0      0


bytecode [node]
--------
 0                 set        0      0      0
 1                 int        1      1      0
 2                push        1      0      0
 3                 int        1      1      0
 4                push        1      0      0
 5         cursor_open        0      0      7      # public.test (primary)
 6                 jmp       23      0      0
 7          cursor_idx        2      0      0
 8                 int        3      1      0
 9                  gt        4      2      3
10                jntr       15      4      0
11          cursor_idx        2      0      1
12                 int        3      1      0
13                  gt        5      2      3
14                 jtr       17      5      0
15                bool        1      0      0
16                 jmp       18      0      0
17                bool        1      1      0
18                 nop        0      0      0
19                jntr       22      1      0
20         cursor_read        1      0      0
21             set_add        0      1      0
22         cursor_next        0      7      0
23        cursor_close        0      0      0
24              result        0      0      0
25                 ret        0      0      0

"
select * from test where a > 1 and b > 1
[[2, 2], [3, 3]]
# test: key compound gt and lt (stop condition on inner key)
explain select * from test where a > 1 and b < 1
"
bytecode [coordinator]
--------
 0            send_all        0      0      0
 1                recv        0      0      0
 2                bool        0      0      0
 3                push        0      0      0
 4          merge_recv        0     -1     -1
 5             cte_set        0      0      0
 6                body        0      0      0
 7                 ret        0      0      0


bytecode [node]
--------
 0                 set        0      0      0
 1                 int        1      1      0
 2                push        1      0      0
 3             int_min        1      0      0
 4                push        1      0      0
 5         cursor_open        0      0      7      # public.test (primary)
 6                 jmp       23      0      0
 7          cursor_idx        2      0      0
 8                 int        3      1      0
 9                  gt        4      2      3
10                jntr       15      4      0
11          cursor_idx        2      0      1
12                 int        3      1      0
13                  lt        5      2      3
14                 jtr       17      5      0
15                bool        1      0      0
16                 jmp       18      0      0
17                bool        1      1      0
18                 nop        0      0      0
19                jntr       22      1      0
20         cursor_read        1      0      0
21             set_add        0      1      0
22         cursor_next        0      7      0
23        cursor_close        0      0      0
24              result        0      0      0
25                 ret        0      0      0

"
select * from test where a > 1 and b < 1
[]
# test: key compound gt and lt and lt (stop condition on outer key)
explain select * from test where a > 1 and b < 1 and a < 10
"
bytecode [coordinator]
--------
 0            send_all        0      0      0
 1                recv        0      0      0
 2                bool        0      0      0
 3                push        0      0      0
 4          merge_recv        0     -1     -1
 5             cte_set        0      0      0
 6                body        0      0      0
 7                 ret        0      0      0


bytecode [node]
--------
 0                 set        0      0      0
 1                 int        1      1      0
 2                push        1      0      0
 3             int_min        1      0      0
 4                push        1      0      0
 5         cursor_open        0      0      7      # public.test (primary)
 6                 jmp       36      0      0
 7          cursor_idx        1      0      0
 8                 int        2     10      0
 9                  lt        3      1      2
10                jntr        6      3      0
11          cursor_idx        2      0      0
12                 int        3      1      0
13                  gt        4      2      3
14                jntr       28      4      0
15          cursor_idx        3      0      1
16                 int        5      1      0
17                  lt        6      3      5
18                jntr       23      6      0
19          cursor_idx        3      0      0
20                 int        5     10      0
21                  lt        7      3      5
22                 jtr       25      7      0
23                bool        2      0      0
24                 jmp       26      0      0
25                bool        2      1      0
26                 nop        0      0      0
27                 jtr       30      2      0
28                bool        1      0      0
29                 jmp       31      0      0
30                bool        1      1      0
31                 nop        0      0      0
32                jntr       35      1      0
33         cursor_read        1      0      0
34             set_add        0      1      0
35         cursor_next        0      7      0
36        cursor_close        0      0      0
37              result        0      0      0
38                 ret        0      0      0

"
select * from test where a > 1 and b < 1 and a < 10
[]
# test: key compound gt and eq
explain select * from test where a > 1 and b = 10
"
bytecode [coordinator]
--------
 0            send_all        0      0      0
 1                recv        0      0      0
 2                bool        0      0      0
 3                push        0      0      0
 4          merge_recv        0     -1     -1
 5             cte_set        0      0      0
 6                body        0      0      0
 7                 ret        0      0      0


bytecode [node]
--------
 0                 set        0      0      0
 1                 int        1      1      0
 2                push        1      0      0
 3                 int        1     10      0
 4                push        1      0      0
 5         cursor_open        0      0      7      # public.test (primary)
 6                 jmp       23      0      0
 7          cursor_idx        2      0      0
 8                 int        3      1      0
 9                  gt        4      2      3
10                jntr       15      4      0
11          cursor_idx        2      0      1
12                 int        3     10      0
13                 equ        5      2      3
14                 jtr       17      5      0
15                bool        1      0      0
16                 jmp       18      0      0
17                bool        1      1      0
18                 nop        0      0      0
19                jntr       22      1      0
20         cursor_read        1      0      0
21             set_add        0      1      0
22         cursor_next        0      7      0
23        cursor_close        0      0      0
24              result        0      0      0
25                 ret        0      0      0

"
select * from test where a > 1 and b = 10
[]
# test: key compound gt and eq and eq (inner)
explain select * from test where a > 1 and b = 10 and b = 20
"
bytecode [coordinator]
--------
 0            send_all        0      0      0
 1                recv        0      0      0
 2                bool        0      0      0
 3                push        0      0      0
 4          merge_recv        0     -1     -1
 5             cte_set        0      0      0
 6                body        0      0      0
 7                 ret        0      0      0


bytecode [node]
--------
 0                 set        0      0      0
 1                 int        1      1      0
 2                push        1      0      0
 3                 int        1     10      0
 4                push        1      0      0
 5         cursor_open        0      0      7      # public.test (primary)
 6                 jmp       32      0      0
 7          cursor_idx        2      0      0
 8                 int        3      1      0
 9                  gt        4      2      3
10                jntr       24      4      0
11          cursor_idx        3      0      1
12                 int        5     10      0
13                 equ        6      3      5
14                jntr       19      6      0
15          cursor_idx        3      0      1
16                 int        5     20      0
17                 equ        7      3      5
18                 jtr       21      7      0
19                bool        2      0      0
20                 jmp       22      0      0
21                bool        2      1      0
22                 nop        0      0      0
23                 jtr       26      2      0
24                bool        1      0      0
25                 jmp       27      0      0
26                bool        1      1      0
27                 nop        0      0      0
28                jntr       31      1      0
29         cursor_read        1      0      0
30             set_add        0      1      0
31         cursor_next        0      7      0
32        cursor_close        0      0      0
33              result        0      0      0
34                 ret        0      0      0

"
select * from test where a > 1 and b = 10 and b = 20
[]
# test: key compound gt and eq and eq (outer)
explain select * from test where a > 1 and b = 10 and a = 20
"
bytecode [coordinator]
--------
 0            send_all        0      0      0
 1                recv        0      0      0
 2                bool        0      0      0
 3                push        0      0      0
 4          merge_recv        0     -1     -1
 5             cte_set        0      0      0
 6                body        0      0      0
 7                 ret        0      0      0


bytecode [node]
--------
 0                 set        0      0      0
 1                 int        1     20      0
 2                push        1      0      0
 3                 int        1     10      0
 4                push        1      0      0
 5         cursor_open        0      0      7      # public.test (primary)
 6                 jmp       32      0      0
 7          cursor_idx        2      0      0
 8                 int        3      1      0
 9                  gt        4      2      3
10                jntr       24      4      0
11          cursor_idx        3      0      1
12                 int        5     10      0
13                 equ        6      3      5
14                jntr       19      6      0
15          cursor_idx        3      0      0
16                 int        5     20      0
17                 equ        7      3      5
18                 jtr       21      7      0
19                bool        2      0      0
20                 jmp       22      0      0
21                bool        2      1      0
22                 nop        0      0      0
23                 jtr       26      2      0
24                bool        1      0      0
25                 jmp       27      0      0
26                bool        1      1      0
27                 nop        0      0      0
28                jntr        6      1      0
29         cursor_read        1      0      0
30             set_add        0      1      0
31         cursor_next        0      7      0
32        cursor_close        0      0      0
33              result        0      0      0
34                 ret        0      0      0

"
select * from test where a > 1 and b = 10 and a = 20
[]
# test: key compound eq and eq
explain select * from test where a = 1 and b = 10
"
bytecode [coordinator]
--------
 0            send_all        0      0      0
 1                recv        0      0      0
 2                bool        0      0      0
 3                push        0      0      0
 4          merge_recv        0     -1     -1
 5             cte_set        0      0      0
 6                body        0      0      0
 7                 ret        0      0      0


bytecode [node]
--------
 0                 set        0      0      0
 1                 int        1      1      0
 2                push        1      0      0
 3                 int        1     10      0
 4                push        1      0      0
 5         cursor_open        0      0      7      # public.test (primary)
 6                 jmp       23      0      0
 7          cursor_idx        2      0      0
 8                 int        3      1      0
 9                 equ        4      2      3
10                jntr       15      4      0
11          cursor_idx        2      0      1
12                 int        3     10      0
13                 equ        5      2      3
14                 jtr       17      5      0
15                bool        1      0      0
16                 jmp       18      0      0
17                bool        1      1      0
18                 nop        0      0      0
19                jntr        6      1      0
20         cursor_read        1      0      0
21             set_add        0      1      0
22         cursor_next        0      7      0
23        cursor_close        0      0      0
24              result        0      0      0
25                 ret        0      0      0

"
select * from test where a = 1 and b = 10
[]
# test: key compound eq and gt
explain select * from test where a = 1 and b > 1
"
bytecode [coordinator]
--------
 0            send_all        0      0      0
 1                recv        0      0      0
 2                bool        0      0      0
 3                push        0      0      0
 4          merge_recv        0     -1     -1
 5             cte_set        0      0      0
 6                body        0      0      0
 7                 ret        0      0      0


bytecode [node]
--------
 0                 set        0      0      0
 1                 int        1      1      0
 2                push        1      0      0
 3                 int        1      1      0
 4                push        1      0      0
 5         cursor_open        0      0      7      # public.test (primary)
 6                 jmp       23      0      0
 7          cursor_idx        2      0      0
 8                 int        3      1      0
 9                 equ        4      2      3
10                jntr       15      4      0
11          cursor_idx        2      0      1
12                 int        3      1      0
13                  gt        5      2      3
14                 jtr       17      5      0
15                bool        1      0      0
16                 jmp       18      0      0
17                bool        1      1      0
18                 nop        0      0      0
19                jntr       22      1      0
20         cursor_read        1      0      0
21             set_add        0      1      0
22         cursor_next        0      7      0
23        cursor_close        0      0      0
24              result        0      0      0
25                 ret        0      0      0

"
select * from test where a = 1 and b > 1
[]
drop table test
disconnect S0
close E0
