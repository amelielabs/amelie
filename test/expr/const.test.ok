open E0 "uuid": "00000000-0000-0000-0000-000000000000", "listen": [{ "host": "127.0.0.1", "port": 3485 }]
connect E0 S0 localhost:3485
# test: null
explain select null
[{
  "bytecode": {
    "coordinator": {
      "00": "set                 0      1      0     ",
      "01": "null                1      0      0     ",
      "02": "push                1      0      0     ",
      "03": "set_add             0      0      0     ",
      "04": "cte_set             0      0      0     ",
      "05": "body                0      0      0     ",
      "06": "ret                 0      0      0     "
    }
  }
}]
select null
[null]
select null::type
["null"]
# test: bool
explain select true
[{
  "bytecode": {
    "coordinator": {
      "00": "set                 0      1      0     ",
      "01": "bool                1      1      0     ",
      "02": "push                1      0      0     ",
      "03": "set_add             0      0      0     ",
      "04": "cte_set             0      0      0     ",
      "05": "body                0      0      0     ",
      "06": "ret                 0      0      0     "
    }
  }
}]
select true
[true]
select false
[false]
select false::type
["bool"]
# test: int
explain select 0
[{
  "bytecode": {
    "coordinator": {
      "00": "set                 0      1      0     ",
      "01": "int                 1      -      0     # 0",
      "02": "push                1      0      0     ",
      "03": "set_add             0      0      0     ",
      "04": "cte_set             0      0      0     ",
      "05": "body                0      0      0     ",
      "06": "ret                 0      0      0     "
    }
  }
}]
select 0
[0]
select 1234
[1234]
explain select -1234
[{
  "bytecode": {
    "coordinator": {
      "00": "set                 0      1      0     ",
      "01": "int                 1      -      0     # 1234",
      "02": "negi                2      1      0     ",
      "03": "push                2      0      0     ",
      "04": "set_add             0      0      0     ",
      "05": "cte_set             0      0      0     ",
      "06": "body                0      0      0     ",
      "07": "ret                 0      0      0     "
    }
  }
}]
select -1234
[-1234]
select 4294967295
[4294967295]
select -4294967295
[-4294967295]
select 9223372036854775807
[9223372036854775807]
select -9223372036854775807
[-9223372036854775807]
select 18446744073709551615
[-1]
# test: double
select 1.0
[1]
select 1.0::type
["double"]
select 3.14
[3.14]
select 1.1234
[1.1234]
select 1.17549e-38
[1.17549e-38]
select 3.40282e+38
[3.40282e+38]
select 2.2250738585072014e-308
[2.22507e-308]
select 1.79769e+308
[1.79769e+308]
select 1e1
[10]
select 1e2
[100]
select 1e4
[10000]
select 1e8
[1e+08]
select 1e40
[1e+40]
# test: string
select "hello world"
["hello world"]
explain select "hello world"
[{
  "bytecode": {
    "coordinator": {
      "00": "set                 0      1      0     ",
      "01": "string              1      0      0     # hello world",
      "02": "push                1      0      0     ",
      "03": "set_add             0      0      0     ",
      "04": "cte_set             0      0      0     ",
      "05": "body                0      0      0     ",
      "06": "ret                 0      0      0     "
    }
  }
}]
select 'hello world'
["hello world"]
select 'hello world'::type
["string"]
select ""
[""]
select ''
[""]
select length("hello world")
[11]
select length("")
[0]
select "hello world"::length
[11]
select "hello world"::length()
[11]
# test: json
select []
[[]]
select [1,2,3]::type
["json"]
select {}
[{}]
select {"id"}
{"msg": "{}: {name <:>} expected"}
select {"id":}
{"msg": "bad expression"}
select {"id": 123]
{"msg": "'}' expected"}
select {"id": 123}::type
["json"]
select [{}, []]
[[{}, []]]
# test: timestamp
select timestamp '1970-01-01 00:00:00'
["1970-01-01 00:00:00+00"]
select (timestamp '1970-01-01 00:00:00')::type
["timestamp"]
select current_timestamp::type
["timestamp"]
# test: interval
select interval '1 week 2 weeks 3 weeks'
["42 days"]
select (interval '1 week 2 weeks 3 weeks')::type
["interval"]
# test: vector
select []::vector
[[]]
select [1,2,3]::vector
[[1, 2, 3]]
select [1,2,3]::vector::type
["vector"]
disconnect S0
close E0
