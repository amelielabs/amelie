open E0 "uuid": "00000000-0000-0000-0000-000000000000", "listen": [{ "host": "127.0.0.1", "port": 3485 }]
connect E0 S0 localhost:3485
# test: truncate parsing
truncate
{"code": 1, "msg": "TRUNCATE <name> expected"}
truncate if
{"code": 1, "msg": "IF <EXISTS> expected"}
truncate if 1
{"code": 1, "msg": "IF <EXISTS> expected"}
truncate if not
{"code": 1, "msg": "IF <EXISTS> expected"}
truncate if not not
{"code": 1, "msg": "IF <EXISTS> expected"}
truncate if not exists
{"code": 1, "msg": "IF <EXISTS> expected"}
truncate if exists
{"code": 1, "msg": "TRUNCATE <name> expected"}
# test: truncate
create table test (id int primary key)
[]
insert into test 1,2,3,4,5
[]
truncate test
[]
select * from test
[]
# test: truncate (empty)
truncate test
[]
select * from test
[]
# test: insert after truncate
insert into test 6,7,8
[]
select * from test
[[6], [7], [8]]
truncate test
[]
select * from test
[]
insert into test 6,7,8
[]
select * from test
[[6], [7], [8]]
truncate test
[]
select * from test
[]
insert into test 6,7,8
[]
select * from test
[[6], [7], [8]]
truncate test
[]
select * from test
[]
drop table test
[]
# test: truncate if exists
truncate test
{"code": 1, "msg": "table 'test': not exists"}
truncate if exists test
[]
disconnect S0
close E0
