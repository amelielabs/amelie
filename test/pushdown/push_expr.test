#

env_open E0 "cluster_shards": 3
connect E0 S0

# test: select expr
explain select system.config().cluster_shards
select system.config().cluster_shards

# test: select from expr
explain select * from [1,2,3]
select * from [1,2,3]

# test: select (select expr)
explain select (select 123)
select (select 123)

# test: select (select expr) from expr
explain select (select a.*) from [1,2,3] a
select (select a.*) from [1,2,3] a

# test: select (select from expr)
explain select (select * from [1, 2, 3])
select (select * from [1, 2, 3])

# test: select from (select expr)
explain select * from (select [1,2,3])
select * from (select [1,2,3])

# test: select (select expr from) from expr
explain select (select a.*, * from [3,2,1]) from [1,2,3] a
select (select a.*, * from [3,2,1]) from [1,2,3] a

# test: select (select expr from) from (select from expr)
explain select (select a.*, * from [3,2,1]) from (select * from [1,2,3]) a
select (select a.*, * from [3,2,1]) from (select * from [1,2,3]) a

disconnect S0
env_close E0
